{% extends 'tareas/base.html' %}

{% block logo %}
{% endblock %}

{% block content %}
<script>
    $(function() {
    $("#id_fecha_vencimiento").datepicker({dateFormat: 'mm-dd-yy'});
    });
</script>
<div style="display: flex; justify-content: center;">
    <div style="border: 1px solid black; padding: 20px; width: 300px; height: auto; margin-right: 20px; margin-top: 20px; margin-left: 20px;">
        <h2>Perfil del Usuario</h2>
        <p><strong>Usuario:</strong> {{ request.user.username|capfirst }}</p>
        <p><strong>Nombre:</strong> {{ user.first_name |capfirst}} {{ user.last_name |capfirst}}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
    </div>
    <div style="text-align: center;">
        <h1>Detalle de Tarea</h1>

        <form method="post" style="width: 70%; margin: 0 auto;">
            {% csrf_token %}
            <div style="margin-bottom: 10px;">
                <label for="{{ form.titulo.id_for_label }}">Título:</label>
                {{ form.titulo }}
            </div>
            <div style="margin-bottom: 10px;">
                <label for="{{ form.descripcion.id_for_label }}">Descripción:</label>
                {{ form.descripcion }}
            </div>
            <div style="margin-bottom: 10px;">
                <label for="{{ form.fecha_vencimiento.id_for_label }}">Fecha de Vencimiento:</label>
                <input type="text" id="{{ form.fecha_vencimiento.id_for_label }}" name="{{ form.fecha_vencimiento.html_name }}" class="datepicker">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="{{ form.estado.id_for_label }}">Estado:</label>
                {{ form.estado }}
            </div>
            <div style="margin-bottom: 10px;">
                <label for="{{ form.etiqueta.id_for_label }}">Etiqueta:</label>
                {{ form.etiqueta }}
            </div>
            <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer;">Agregar Tarea</button>
        </form>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        $(".datepicker").datepicker({
            dateFormat: 'mm/dd/yy',
            dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
            dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'],
            monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
            monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic']
        });
    });
</script>
{% endblock %}
